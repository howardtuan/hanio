<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>戈登肉鋪</title> 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    {% load static %}
    <link href="{% static 'css/styles.css'%}" rel="stylesheet" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/"
    crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
        crossorigin="anonymous"></script>
</head>
<body id="page-top">
    
   <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top"style="background-color: #E0B041;">
        <div class="container-fluid">
            <a class="navbar-brand" href="../index/">戈登肉鋪</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="../index/">首頁</a>
                    </li>
                    
                    
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            商品分類
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="../hanio/">日本A5和牛專賣區</a></li>
                            <li><a class="dropdown-item" href="#">嚴選1855&CAB</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">piyan專區</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../about/">關於我們</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="../contact/">客服中心</a>
                    </li>
                </ul>
                
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="../login/">註冊/登入</a>
                    </li>
                    <!--登入後顯示-->
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            使用者名稱
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="../member/">個人資料</a></li>
                            <li><a class="dropdown-item" href="../record/">訂單記錄</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#">登出</a></li>
                        </ul>
                    </li>
                </ul>
                <a href="../cart/"> <button class="btn btn-cart btn-sm" type="button" >
                  <i class="fas fa-shopping-cart text-dark fa-2x"></i>
                </button>
                </a>
                
                <form class="d-flex">
                    <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                </form>

                
            </div>
        </div>
    </nav>
        <div class="placeholder"></div>
        <div class="container mt-5">
            <h1>購物車</h1>
            <table class="table">
              <thead>
                <tr>
                  <th>商品</th>
                  <th>價格</th>
                  <th>數量</th>
                  <th>小計</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>商品1</td>
                  <td>$10</td>
                  <td>
                    <input type="number" class="form-control quantity-input" value="1" min="1" step="1">
                  </td>
                  <td class="subtotal">$10</td>
                  <td>
                    <button class="btn btn-danger btn-remove">移除</button>
                  </td>
                </tr>
                <tr>
                  <td>商品2</td>
                  <td>$20</td>
                  <td>
                    <input type="number" class="form-control quantity-input" value="1" min="1" step="1">
                  </td>
                  <td class="subtotal">$20</td>
                  <td>
                    <button class="btn btn-danger btn-remove">移除</button>
                  </td>
                </tr>
                <tr>
                  <td>商品3</td>
                  <td>$15</td>
                  <td>
                    <input type="number" class="form-control quantity-input" value="1" min="1" step="1">
                  </td>
                  <td class="subtotal">$15</td>
                  <td>
                    <button class="btn btn-danger btn-remove">移除</button>
                  </td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td colspan="3" class="text-right"><strong>總計</strong></td>
                  <td id="total"><strong>$0</strong></td>
                  <td></td>
                </tr>
              </tfoot>
            </table>
            <a href="../pay/"><button class="btn btn-primary">結帳</button></a>
          </div>
        
          <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
          <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
          <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        
          <script>
            $(document).ready(function () {
              // 移除按鈕點擊事件處理函式
              $('.btn-remove').on('click', function () {
                var row = $(this).closest('tr');
        
                // 獲取移除商品的價格和數量
                var price = parseFloat(row.find('td:eq(1)').text().replace('$', ''));
                var quantity = parseInt(row.find('.quantity-input').val());
        
                // 計算移除商品的小計值
                var subtotal = price * quantity;
        
                // 從總計中減去移除商品的小計值
                var total = parseFloat($('#total').text().replace('$', ''));
                total -= subtotal;
        
                // 更新總計欄位
                $('#total').text('$' + total.toFixed(0));
        
                // 移除商品的行
                row.remove();
        
                // 更新總計
                updateTotal();
              });
        
              // 數量輸入框更改事件處理函式
              $('.quantity-input').on('change', function () {
                var row = $(this).closest('tr');
        
                // 獲取商品的價格和數量
                var price = parseFloat(row.find('td:eq(1)').text().replace('$', ''));
                var quantity = parseInt($(this).val());
        
                // 計算並更新小計
                var subtotal = price * quantity;
                row.find('.subtotal').text('$' + subtotal.toFixed(0));
        
                // 更新總計
                updateTotal();
              });
        
              // 更新總計函式
              function updateTotal() {
                var total = 0;
        
                // 遍歷所有商品行，計算總計
                $('.subtotal').each(function () {
                  total += parseFloat($(this).text().replace('$', ''));
                });
        
                // 更新總計欄位
                $('#total').text('$' + total.toFixed(0));
              }
        
              // 初始化總計
              updateTotal();
            });
          </script>

        <footer class="footer">
            <div class="container">
                <span>© 2023 戈登肉鋪. All rights reserved.</span>
            </div>
        </footer>
        
        
      
        
    </body>
    
        
</html>
